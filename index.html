<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <link href="styles.css" rel="stylesheet" type="text/css">
    <title>Chat stile WhatsApp</title>
</head>

<body>

    <div id="loginScreen">
        <div class="login-form-container">
            <h2>Benvenuto su iCrobu</h2>
            
            <div class="input-wrapper">
                <input id="nicknameInput" type="text" placeholder="Nickname">
            </div>
            
            <div class="password-input-wrapper input-wrapper">
                <input id="passwordInput" type="password" placeholder="Password">
                <span id="togglePassword" class="password-toggle"></span>
            </div>
            
            <div>
                <button id="loginButton">Accedi</button>
                <button id="registerButton">Registrati</button>
            </div>
        </div>
    </div>

    <div id="sidebar">
        <h3 style="padding: 10px; background: #ededed;">Chat</h3>
        <div id="chatList"></div>
    </div>

    <div id="mainChat">
        <div id="chatHeader" style="padding: 15px; background: #008069; color: white; display: flex; align-items: center;">
            <img id="profilePic" src="img/noprofilo.jpg" alt="P" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 10px;">
            <span id="chattingWithName">Chat Generale</span>
        </div>

        <div id="messages"></div>
        
        <div id="attachmentPreviewContainer" class="hidden">
            <img id="imagePreview" class="hidden" alt="Anteprima Immagine" />
            <span id="previewFileName"></span>
            <button id="removeAttachmentButton" title="Rimuovi allegato"></button>
        </div>

        <div id="inputRow">
            <button id="attachmentButton"></button>
            <input type="file" id="attachmentInput" hidden> 
            
            <input id="messageInput" placeholder="Scrivi un messaggio..." maxlength="65536">
            <button id="sendButton"></button>
        </div>
    </div>
    
    <script src="app.js"></script>
    <script src="ui.js"></script>
    <script src="auth.js"></script>
    <script src="chat.js"></script>
    </body>
</html>